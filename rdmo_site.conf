<VirtualHost *:80>
    ServerAdmin researchdata@zhaw.ch
    ServerName rdmo.zhaw.ch
    DocumentRoot /code
    ProxyPreserveHost On

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    ProxyPass / http://web:8000/
    ProxyPassReverse / http://web:8000/

    Alias /static /code/static_root
    <Directory /code/static_root>
        Require all granted
    </Directory>

    WSGIDaemonProcess rdmo python-path=/code python-home=/code/env
    WSGIProcessGroup rdmo
    WSGIScriptAlias / /code/config/wsgi.py
    WSGIPassAuthorization On

    <Directory /srv/rdmo/rdmo-app/config/>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>
</VirtualHost>
